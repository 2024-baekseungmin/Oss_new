제목 : 3D 그래픽 프로그램 Blender 조사 및 연구
팀원 : 수의과대학 수의예과/2024005334/백승민/2024-baekseungmin, 수의과대학 수의예과/2024002782/양승원/seungwon3766, 수의과대학 수의예과/2024003215/김성민/Sm030916, 수의과대학 수의예과/2023006496/김민환/MinariMinari

1. 개요
3D 그래픽 프로그램 Blender란 무료로 사용 가능한 소프트웨어 프로그램이다. 제품 디자인, 게임 모델링. 애니메이션, 예술 분야 등 다양한 분야에서 사용할 수 있는 프로그램이며, 3D 그래픽 프로그램으로 할 수 있는 모든 기능(모델링,재질 입히기, 스컬프팅, 렌더링 등등)을 제공한다고 봐도 무방할 정도의 올인원 프로그램이다. 누구나 다운로드 하여 다양한 3D작업에 사용할 수 있어 전세계에 사용자들이 존재하며 window, MacOS, Linux 모두 지원하기 때문에 작업물 공유도 쉽다. 또한, 커뮤니티의 활발한 지원으로 빠른 업데이트가 가능하다. 

2. 라이센스
오픈소스 GNU GPLv2/ 개발단체 Blender 재단 및 법인/ 지원 운영 체제 Linux, WIndows, macOS

3. 주요기능
1) 노드를 이용한 결과물 생성
Blender는 노드를 이용한 결과물 생성을 지향한다. 타 프로그램의 방식인 레이어(여러 종이를 겹쳐 만드는 형식에서 기인), 수정자 방식을 이용하는 것보다 노드 방식을 이용하는 것이 과정을 한눈에 알아보는 것, 정교한 결과물 생성에 도움을 준다. 노드란 무엇인가? 노드는 input, output의 소켓이 존재하는 함수라고 할 수 있다. 이 함수는 수학적인 함수보다는 시스템의 언어라고 할 수 있다. 즉 무언가 변형시키는 수학적인 함수보다는 내가 원하는 결과물을 얻기 위해 배우는 입력 언어라고 생각할 수 있다. 노드에는 여러 소켓이 존재하는데 가장 많이 사용하는 몇 가지를 소개해보면, 먼저 회색 마름모는 float라는 소켓으로 소숫점을 포함하는 수이다. 초록색 원은 integer는 소숫점이 없는 수이다. 보라색 소켓은 vector라는 소켓으로 위치를 조정하는데 많이 쓰인다. 마지막으로 핑크색 소켓은 boolean이라는 소켓으로 논리연산에 필요한 소켓으로 조건의 참 거짓을 따지는 소켓이다.  노드와 노드 사이의 선의 연결을 통해 정보를 전달한다. 노드 방식에 익숙해지면 노드 사이를 병렬적 연결을 통해 순서를 지정하여 빠르게 결과물을 생성시킬 수 있다. 현재도 blender는 많은 영역에 노드를 적용시키고 있고 앞으로 노드를 사용할 수 있는 모든 기능을 노드를 기반한 방식을 적용하는 everything nodes 라는 프로젝트를 진행하고 있다고 한다. 노드를 통해서 blender는 크게 4가지 기능을 제공하고 있다. 먼저 1번째는 형태이다. Blender에서는 노드를 통해 도형이나 평면 자유자재로 변형시킬 수 있다. 가장 쉬운 예시로 평면 하나를 만든 후 position 노드에 add 노드를 연결 후 random value 노드를 추가시킨다면이 무작위로 찌그러지는 형태를 만들 수 있다. 또한 찌그러지는 형태도 제어가 가능한데 크게 나누어지는 xyz축에서 xy축은 제외하고 z축만 변형시키는 등 노드를 통해 빠르게 형태를 변환시킬 수 있다. 2번째는 재질이다. 많은 프로그램이 재질을 결정하는데는 레이어를 사용하는데 블렌더는 노드를 사용한다. 위치값은 xyz축의 값을 입력해서 내보냈다면 색은 RGB값을 이용하여 색을 내보낸다. 특이하게 위치값을 나타내는 노드를 색을 결정하는 노드에 연결하게 되면 위치에 따라 색이 변하게 할 수 있다. 이 또한 blender만의 특이한 특징으로 활용할 수 있다. 비슷하게 거침(roughness)정도와 같은 재질도 값으로 결정하기 때문에 이 또한 위와 같은 방식으로도 사용할 수 있다. 텍스처 자체가 결정되어 있는 프로그램과 다르게 blender는 결정된 것이 없는 것이 특징이다. 거의 모든 것을 숫자값을 통해 결정하므로 노드 값 자체를 적어두고 필요에 맞게 찾아쓰는 경우도 많다.  3번째는 월드인데 월드는 world properties라는 걸 통해 구체적으로 월드 구성이 가능하다. World 자체의 노드는 구성물과 다른 개별 슬롯의 형태로 존재하며 배경에 자신의 뜻대로 빛을 구성하는 것까지도 가능하다. 마지막은 합성으로 렌더링한 결과를 후처리, 수정하는데도 노드는 사용된다. 후처리 노드를 만들면 결과가 렌더링 시 자동으로 처리된다. 렌더링 할 때마다 자동으로 이미지가 저장되면 작업을 반복할 필요가 없어지기 때문에 블렌더의 합성 노드를 잘 사용하면 작업시간을 배로 줄일 수 있게 된다.
2) 내장 렌더 엔진을 통한 작업 효율의 우수성
Blender는 총 세 개의 렌더 엔진을 내장하고 있다. 표시용 렌더 엔진인 워크벤치(Workbench)와, 물리 기반 렌더 엔진인 이브이(Eevee), 싸이클(Cycles)이 이에 해당한다.내장 렌더 엔진은 우수한 작업 효율로 이어지는데, Blender외의 다른 3D 프로그램에서는 프로그램과 렌더엔진 사이의 데이터 교환에 많은 시간이 사용되고, 변수 설정이 제대로 전달되지 않기 때문에 불편을 초래할 수 있다는 점과는 차별화되는 장점이다. 또, 다른 3D 프로그램에서 사용하는 플러그인 방식의 렌더 엔진은 가격이 비싸다는 문제도 있다. 플러그인 방식의 렌더 엔진이란 모델링 프로그램에서 매핑, 텍스처링 작업을 완료하면 렌더링 프로그램에서 알아서 정보를 가져와 렌더링하는 것을 말하며, Arnold, Octane, V-Ray 등이 있다. Blender는 모델링과 재질 설정을 완료하면 이브이(Eevee), 싸이클(Cycles)로 최종 결과물을 도출하는 방식으로 PBR(Physically Based Rendering, 표면의 재질에 따라 이루어지는 빛의 물리적 반사를 시뮬레이션해 표현하는 기법)을 지원한다. 워크벤치(Workbench)는 실제 작업 시에 사용되는 렌더 엔진으로, 빛과 재질을 고려하지는 않으나 직관적으로 오브젝트와 형태를 구별할 수 있다. 프로토타입이나 설계도를 렌더링할 때는 워크벤치도 유용하게 쓰인다. 이브이는 실시간 렌더 엔진으로, 2.80 버전부터 포함되었다. 이름은 Extra Easy Virtual Environment Engine의 약자이며 유니티, 언리얼 등 3D 게임 엔진의 실시간 렌더러와 방식이 유사하기에 마찬가지로 실시간 렌더링이 된다. 다만 빠른 렌더링 속도에 집중한 엔진이다 보니 물리적으로 부정확할 수 있지만,  주변광 막힘(Ambient occlusion), 동작 흐림(Motion blur), 산란(Scattering), 표면 아래 산란(Subsurface scattering), 반사(Reflection), 굴절(Refraction), 간접광(Indirect lighting), 피사계 심도(Depth of field) 등의 고급 렌더링 기술을 구현할 수 있다. 이브이와 싸이클은 재질과 빛 설정이 호환되고 일부를 제외하면 두 렌더 엔진의 노드가 동일하기 때문에, 이브이에서 빠르게 결과를 확인하고 싸이클 렌더로 최종 결과물을 낼 수도 있다. 노드는 쉽게 말해 원하는 결과값을 얻기 위해 사용하는 입력 언어와 비슷한 함수인데, 노드 방식도 Blender의 특별한 기능 중 하나이다. 2024년 10월 5일 기준 최신 버전인 4.2 이후부터 SSGI(Screen Space Global Illumination)라는 실시간 렌더링에서 글로벌 일루미네이션(실제 세계에서 빛과 개체의 상호작용을 디지털 환경에서 시뮬레이션함) 효과를 내는 기술을 지원하고 있다. 싸이클은 광선추적(Raytracing, 이미지 상의 픽셀 하나하나를 통과하는 광선을 가정하고 해당 광선을 역추적하는 방식이며 요구 연산량이 아주 많음) 방식을 사용하는 렌더 엔진으로 Blender 3.0부터 속도가 기존 버전보다 2~8배 빨라졌다고 한다. 다만 빨라졌다고 해도 플러그인 방식의 렌더 엔진의 예시로 앞서 설명했던 V-Ray, Arnold에 비해서는 여전히 속도가 부족하다. 싸이클은 Blender와는 별도의 프로젝트로 개발 중이기 때문에, Autodesk 3ds Max나 Autodesk Maya 등의 타 프로그램에서도 이용할 수 있다. 현 시점으로서는 Blender+Cycles 조합을 사용하는 Archviz(건축CG) 유저 수가 타 렌더러에 밀리고 있는 상황이라는 점이 아쉬운 부분이다.
3) 3D 모델링(modeling)과 스컬프팅(sculpting)
Blender에서는 화면 내부에 있는 3D공간에서 물체의 형태를 만들 수 있는 모델링 기능을 지원한다. 모델링 작업에서는 점, 선, 면의 형태를 직접 연결하고, 자르고, 합치고, 나누고, 파 내는 등의 방식을 사용한다. 주사위, 책상, 자동차, 의자 등 인공물이나 태양, 지구, 야구공 등 반듯하고 인공적인 모형의 입체모형을 만드는 데에 쓰인다. Blender에서는 폴리곤(Polygon)모델링과 스플라인(Spline)모델링을 지원하는데, 폴리곤 모델링은 삼각형 또는 사각형 면으로 조합해 형태를 만드는 모델링이고 주로 일반적인 모델링에서 사용하는 방식이다. 스플라인 모델링은 스플라인 곡선을 사용하는 모델링이며 주로 공업 제품의 설계 등에 사용되는 방식이다. Blender는 다각형 메쉬, 베지어 곡선, NURBS 표면, 메타볼, icospheres, 텍스트 및 B-메시로 알려진 n-gon 모델링 기술과 같은 여러 가지 기하학적 프리미티브를 지원한다. 또한 편집 모드를 통해 사용할 수 있는 정교한 다각형 모델링 시스템이 있고 세분화, 베벨링, 압출 등의 기능도 제공한다.
스컬프팅(Sculpting)은 모델링의 방법들 중 하나로 점토로 물체를 만드는 것처럼 굴곡을 만들어 나가는 방식이다. 부드러운 입체 모형을 누르고, 변형시키고, 무늬를 내고, 끌어당기는 방식으로 형태를 만들어 낸다. 동물이나 식물과 같은 생물, 돌이나 지형 같은 자연물, 인간의 신체 및 얼굴형을 만들어내는 등 복잡하고 유기적인 형태를 만드는데 많이 쓰인다. Blender는 스컬프팅(Sculpting)을 위한 다양한 종류의 브러시들을  제공하며, 포토샵처럼 직접 브러시를 만들어 사용할 수도 있다. 
4) 리토폴로지(Retopology)
토폴로지(Topology)란 메쉬로 된 입체모형 표면 폴리곤 배열을 말하는데 이러한 ㅌ토폴로지를 다시 만드는 작업을 리토폴로지라고 한다. 스컬프팅 작업을 하거나 3D 스캔을 하여 모양은 그럴듯 하지만 폴리곤이 지나치게 많거나, 폴리곤은 죄다 삼각형에 엉망진창인 토폴로지로 덮여있는 메쉬 오브젝트가 생기거나, 또는 뼈대(Armature)를 심어서 캐릭터처럼 움직이게 하고 싶은데 토폴로지가 엉망이어서 표면이 이상한 데에서 접히고 비틀어지는 문제점이 발생했을 때, 이러한 토폴로지들을 다시 만들어 메쉬 표면의 폴리곤 배열을 깔끔하게 정리하는 과정인 리토폴로지를 통해 해결할 수 있다. 여기서 블렌더는 리토폴로지를 자동으로 해주는 기능인 리메쉬(Remesh)를 지원해주는데 리메쉬에는 두가지 방식이 있다. 첫번째 방식은 Voxel remesh 방식으로, 물체를 Voxel로 변환시켜 물체 내에서 메쉬가 겹쳐있어도 하나의 합쳐진 Voxel 덩어리로 변환되어 구멍 뚫림같은 문제의 발생 가능성이 적고 폴리곤 겹침이나 디테일 밀도를 신경쓰지 않고 사용하기에 용이하다. 스컬프팅 작업에 주로 사용되지만, 디테일 밀도가 늘어날수록 처리 시간이 급격하게 늘고 부하도 커져서 작업 초반에 양감을 잡을 때부터 중간 레벨의 디테일 밀도 작업 과정까지 쓰기 좋다. 두번째 Quadriflow방식은 표면을 사각폴리곤으로 정리해주는 방식인데, 천 개이든 만 개이든 몇 개의 사각폴리곤만으로 표면을 덮을지 지정 할 수 있다. 전체적으로 균일하게 사각폴리곤의 수를 낮춰야 하는 경우에 한정해 쓰기 유용한 방식이다.   
5) UV editing - Smart UV project
 블렌더에서 UV 편집은 수동 전개로도 가능하지만 Smart UV Project라는 강력한 자동 전개 기능이 있다. Smart UV Project는 각도 임계값(메시의 각도 변화)을 기준으로 메시를 자른다. 이를 통해 자동 seams가 생성되는 방식을 미세하게 제어할 수 있다. 기계적 물체나 건축물과 같은 간단하고 복잡한 기하학적 형태에 적합한 방법이다.
 이 알고리즘은 객체의 모양, 선택된 면과 면 간의 관계를 조사하고 이 정보와 사용자가 제공한 설정을 기반으로 UV 맵을 만든다.

 오른쪽 예에서 스마트 매퍼는 큐브의 모든 면을 세 변이 위에, 세 변이 아래에 오도록 깔끔하게 매핑하여 큐브의 여섯 변이 모두 큐브의 면과 마찬가지로 정사각형에 맞게 맞도록 했다. 더욱 복잡한 기계 객체의 경우 이 도구를 사용하면 매우 논리적이고 간단한 UV 레이아웃을 매우 빠르고 쉽게 만들어낼 수 있다.
 옵션으로는 Angle Limit, Island Margin, Area Weight 등이 있으며, 이를 이용해 미세한 제어가 가능하다.
6) 리깅(Rigging)
리깅(Rigging) 작업은 인물, 생물, 로봇 등 움직여야 할 입체 모형이 여러 가지 자세, 동작을 취할 수 있도록 해 준다. 간단하게 설명하자면, 입체 모형의 내부에 뼈와 관절을 넣어주고, 각 뼈가 어느 부분의 피부(표면)를 붙잡아서 당길지 연결해 주는 작업이다.
블렌더에서는 개개의 뼈(Bone)가 오브젝트인 것이 아니라 전체 뼈대(Armature)가 하나의 오브젝트다. 뼈대(Armature)라는 오브젝트를 추가함으로써 리깅을 시작할 수 있다. 그래서 메쉬 오브젝트의 편집모드에 들어가서 폴리곤을 수정하듯이, 뼈대 오브젝트의 편집모드에 들어가서 뼈(Bone)을 수정하는 아주 깔끔한 방식을 쓴다. 그래서 각각의 뼈(Bone)가 뼈대 속에서 자신의 "원위치"를 알고 있기 때문에 자세를 초기 상태로 돌리기도 아주 쉽다.
뼈대 내부에서, 뼈들 사이의 부모자식관계(Parent-child relationship)는 모두 일반적인 오브젝트처럼 단축키로 설정과 해제가 가능하고 그 관계는 점선으로 나타나서, Outliner 편집기(Editor)에서 위아래 구조를 일일이 정해주는 수고를 하지 않아도 된다. 그리고 각 뼈의 이름을 지을 때 좌우를 구분해주는 접미사를 붙이면 편하다. L과 R, _L과 _R, -L과 -R, .left와 .right, _left와 _right, -left와 -right 등 좌우를 구분하는 접미사라면 블렌더가 뭐든 잘 알아듣는다. 뼈 이름에 좌우 접미사가 붙어있으면 편집 과정에서 블렌더가 좌우 대칭을 저절로 유지시켜준다.
블렌더에서는 뼈대의 초기상태를 조절하는 편집모드(Edit mode)와 자세모드(Pose mode)가 별개라서, 자세를 얼마든지 초기화시키거나 다양한 자세의 상태를 자세 라이브러리(Pose library)에 저장할 수 있다. 자세가 이미 잡혀 있더라도, 그 상태에서 뼈 길이나 관절 위치 등 뼈대를 조금 변형하거나, 스컬프팅(Sculpt)하거나, 점 가중치를 그릴(Weight paint) 수도 있다. 한번 스킨을 잡으면 관절 위치가 잘못되었을 때 다시 스킨을 잡아야 하는 맥스에 비해 블렌더는 나중 과정에서도 언제든지 조절하면서 중심점 위치를 조절할 수 있다.
